<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">


        <link rel="apple-touch-icon" sizes="180x180" href="https://meebits.larvalabs.com/public/images/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://meebits.larvalabs.com/public/images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="https://meebits.larvalabs.com/public/images/favicon-16x16.png">
        <link rel="manifest" href="https://meebits.larvalabs.com/public/images/site.webmanifest">
        <link rel="mask-icon" href="https://meebits.larvalabs.com/public/images/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">

        <title>Meebits Deal Details for 0x8b4fef7aea550</title>
        <meta name="description" content="Meebits Deal Details for 0x8b4fef7aea550">

        <!-- Open Graph data -->
        <meta property="og:title" content="Meebits Deal Details for 0x8b4fef7aea550">
        <meta property="og:image" content="https://meebits.larvalabs.com">
        <meta property="og:description" content="Meebits Deal Details for 0x8b4fef7aea550">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="Meebits Deal Details for 0x8b4fef7aea550">
        <meta name="twitter:site" content="@larvalabs">
        <meta name="twitter:image" content="https://meebits.larvalabs.com">
        <meta name="twitter:description" content="Meebits Deal Details for 0x8b4fef7aea550">

        <script type="text/javascript" language="javascript" src="Meebits%20Deal%20Details%20for%200x8b4fef7aea550_files/vue.js"></script>
        <script type="text/javascript" language="javascript" src="Meebits%20Deal%20Details%20for%200x8b4fef7aea550_files/web3-1.js"></script>

        <script type="text/javascript" language="javascript" src="Meebits%20Deal%20Details%20for%200x8b4fef7aea550_files/project3.js"></script>

        <link rel="stylesheet" type="text/css" href="Meebits%20Deal%20Details%20for%200x8b4fef7aea550_files/tailwind.css" charset="utf-8">
        <link rel="stylesheet" type="text/css" href="Meebits%20Deal%20Details%20for%200x8b4fef7aea550_files/main.css" charset="utf-8">

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async="" src="Meebits%20Deal%20Details%20for%200x8b4fef7aea550_files/js"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-JW9LRDNKBX');
        </script>
    </head>
    <body>

    <!-- This example requires Tailwind CSS v2.0+ -->
    <div>
        <div class="bg-gray-800 pb-32">
            <nav class="bg-gray-800">
                <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
                    <div class="border-b border-gray-700">
                        <div class="flex items-center justify-between h-16 px-4 sm:px-0">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <a href="https://meebits.larvalabs.com/" class="">
                                        <img class="h-8 w-8" src="Meebits%20Deal%20Details%20for%200x8b4fef7aea550_files/logo.svg" alt="Workflow">
                                    </a>
                                </div>
                                <div class="hidden md:block">
                                    <div class="ml-10 flex items-baseline space-x-4">
                                        <!-- Current: "bg-gray-900 text-white", Default: "text-gray-300 hover:bg-gray-700 hover:text-white" -->
                                        <a href="https://meebits.larvalabs.com/meebits/list" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">All Meebits</a>

                                        <a href="https://meebits.larvalabs.com/meebits/categorylist" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Attributes</a>

                                        <div id="activity_dropdown" class="relative inline-block text-left"><div><button type="button" id="menu-button" aria-expanded="true" aria-haspopup="true" class="inline-flex justify-center rounded-md w-full px-4 py-2 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none ">
                                                    Market Data
                                                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="-mr-1 ml-2 h-5 w-5"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="-mr-1 ml-2 h-5 w-5" style="display: none;"><path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg></button></div> <div role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1" class="z-50 origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-gray-700 ring-1 ring-black ring-opacity-5 focus:outline-none" style="display: none;"><div role="none" class="py-1"><a href="https://meebits.larvalabs.com/meebits/forsale" role="menuitem" tabindex="-1" id="menu-item-0" class="text-gray-300 hover:text-gray-50 block px-4 py-2 text-sm">For Sale</a> <a href="https://meebits.larvalabs.com/meebits/bids" role="menuitem" tabindex="-1" id="menu-item-1" class="text-gray-300 hover:text-gray-50 block px-4 py-2 text-sm">Bids</a> <a href="https://meebits.larvalabs.com/meebits/deals" role="menuitem" tabindex="-1" id="menu-item-1" class="text-gray-300 hover:text-gray-50 block px-4 py-2 text-sm">All Open Deals</a> <a href="https://meebits.larvalabs.com/meebits/sales" role="menuitem" tabindex="-1" id="menu-item-2" class="text-gray-300 hover:text-gray-50 block px-4 py-2 text-sm">Recent Sales</a> <a href="https://meebits.larvalabs.com/meebits/owners" role="menuitem" tabindex="-1" id="menu-item-2" class="text-gray-300 hover:text-gray-50 block px-4 py-2 text-sm">Owners</a></div></div></div>

                                        <a href="https://meebits.larvalabs.com/meebits/trade" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Trade</a>

                                        <a href="https://meebits.larvalabs.com/meebits/depositwithdraw" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Deposit / Withdraw</a>

                                        <div class="flex-1 flex justify-center px-2 lg:ml-6 lg:justify-end">
                                            <div class="max-w-lg w-full lg:max-w-xs">
                                                <label for="search" class="sr-only">Search</label>
                                                <div class="relative">
                                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                        <!-- Heroicon name: solid/search -->
                                                        <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path>
                                                        </svg>
                                                    </div>
                                                    <form style="display:inline; margin: 0; padding: 0;" method="get" action="/meebits/search">
                                                        <input id="search" name="search" class="block w-full pl-10 pr-3 py-2 border border-transparent rounded-md leading-5 bg-gray-700 text-gray-300 placeholder-gray-400 focus:outline-none focus:bg-white focus:border-white focus:ring-white focus:text-gray-900 sm:text-sm" placeholder="Search" type="search">
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="hidden md:block">
                                <div id="profile_medium" class="ml-4 flex items-center md:ml-6"><a href="#" onclick="Project3.requestMetamaskAccess();" class="text-indigo-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium" style="">Allow Wallet Access</a> <a href="https://meebits.larvalabs.com/meebits/account?address=null" class="text-indigo-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium" style="display: none;"></a> <a href="https://meebits.larvalabs.com/meebits/depositwithdraw" class="text-indigo-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium" style="display: none;">(0Ξ)</a></div>
                            </div>
                            <div class="-mr-2 flex md:hidden">
                                <div id="profile_mobile" class="flex items-center"><a href="#" onclick="Project3.requestMetamaskAccess();" class="text-indigo-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium" style="">Allow Wallet Access</a> <a href="https://meebits.larvalabs.com/meebits/account?address=null" class="text-indigo-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium" style="display: none;"></a> <a href="https://meebits.larvalabs.com/meebits/depositwithdraw" class="text-indigo-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium" style="display: none;">(0Ξ)</a></div>

                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mobile menu, show/hide based on menu state. -->
                <div class="border-b border-gray-700 md:hidden" id="mobile-menu">
                    <div class="px-2 py-3 space-y-1 sm:px-3 text-center">
                        <!-- Current: "bg-gray-900 text-white", Default: "text-gray-300 hover:bg-gray-700 hover:text-white" -->
                        <a href="https://meebits.larvalabs.com/meebits/list" class="text-gray-300 px-3 py-2 rounded-md text-sm font-medium">All Meebits</a>

                        <a href="https://meebits.larvalabs.com/meebits/categorylist" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Attributes</a>

                        <a href="https://meebits.larvalabs.com/meebits/forsale" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">For Sale</a>

                        <a href="https://meebits.larvalabs.com/meebits/bids" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Bids</a>

                        <a href="https://meebits.larvalabs.com/meebits/deals" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">All Open Deals</a>

                        <a href="https://meebits.larvalabs.com/meebits/sales" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Recent Sales</a>

                        <a href="https://meebits.larvalabs.com/meebits/trade" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Trade</a>

                        <a href="https://meebits.larvalabs.com/meebits/depositwithdraw" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Deposit / Withdraw</a>

                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <!-- Heroicon name: solid/search -->
                                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <form style="display:inline; margin: 0; padding: 0;" method="get" action="/meebits/list">
                                <input id="search" name="search" class="block w-full pl-10 pr-3 py-2 border border-transparent rounded-md leading-5 bg-gray-700 text-gray-300 placeholder-gray-400 focus:outline-none focus:bg-white focus:border-white focus:ring-white focus:text-gray-900 sm:text-sm" placeholder="Search" type="search">
                            </form>
                        </div>

                    </div>
                </div>
            </nav>
                        <header class="py-10">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h1 class="text-3xl font-bold text-white">
                        Meebits Deal Details for 0x8b4fef7aea550                    </h1>
                </div>
            </header>
                    </div>

        <main class="-mt-32">
            <div class="max-w-7xl mx-auto pb-12 px-4 sm:px-6 lg:px-8">

            
                        
            
<div id="unlock_wallet" class="bg-yellow-200 shadow sm:rounded-lg"><div class="px-4 py-5 sm:p-6"><h3 class="text-xl leading-6 font-medium text-gray-900">
            Allow Access to your Wallet
        </h3> <div class="mt-2 max-w-xl text-sm text-gray-800"><p>
                In order to use this page you must allow access to your wallet.
            </p></div> <div class="mt-5"><button onclick="onClickConnect();" type="button" class="inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm">
                Allow Access
            </button></div></div></div>

<script type="text/javascript">
    window.addEventListener('load', function() {
        var walletAccessVue = new Vue({
            el: '#unlock_wallet',
            data: {
                state: Project3.state,
            },
        });
    });
</script>

<div id="main_deal" class="bg-gray-50 rounded-lg shadow px-5 py-6 sm:px-6"><div></div> <div class="mt-10 sm:mt-0"><div class="md:grid md:grid-cols-3 md:gap-6"><div class="md:col-span-1"><div class="px-4 sm:px-0"><h3 class="text-lg font-medium leading-6 text-gray-900">Trade Details</h3> <p class="mt-1 text-sm text-gray-600">
                    Please carefully review this trade before accepting.
                </p></div></div> <div class="mt-5 md:mt-0 md:col-span-2"><div class="shadow overflow-hidden sm:rounded-md"><div class="px-4 py-5 bg-white space-y-6 sm:p-6"><div><legend class="text-base text-xl font-medium text-gray-900">Offered by <a href="account.html?address=0x437Bc3503Bac3354856C2CF64bB4a4C0E19435Ae" class="text-indigo-700 hover:text-indigo-500">0x437Bc350</a></legend> <p class="text-md text-gray-500">Maker is offering this 1 Meebit:</p></div> <div><ul class="mt-6 grid grid-cols-3 gap-3 sm:grid-cols-4 md:grid-cols-4 lg:grid-cols-6"><li class="col-span-1 flex flex-col bg-white rounded-lg shadow divide-y divide-gray-200"><div class="flex-1 flex flex-col"><span class="inline-block relative"><a href="detail.html?index=5234"><img src="Meebits%20Deal%20Details%20for%200x8b4fef7aea550_files/characterimage.jpeg" alt="" class="flex-shrink-0 mx-auto bg-black rounded-t-lg h-56 object-cover"></a></span> <div class="p-4"><h3 class="text-gray-900 text-xl font-medium"><a href="https://meebits.larvalabs.com/meebits/detail?index=5234">#5234</a></h3> <dl class="mt-1 flex-grow flex flex-col justify-between"><dt class="sr-only">Description</dt> <dd class="text-gray-500 text-sm">Human</dd></dl></div></div></li></ul></div> <div><legend class="text-base text-xl font-medium text-gray-900">Offered to anyone.</legend> <p class="text-md text-gray-500">Taker is required to provide 5.50 ETH.</p></div> <div><ul class="mt-6 grid grid-cols-3 gap-3 sm:grid-cols-4 md:grid-cols-4 lg:grid-cols-6"><li class="py-8 h-full text-3xl col-span-1 flex flex-col bg-gray-400 text-white items-center justify-center rounded-lg shadow divide-y divide-gray-200"><div>Ξ 3.9</div></li></ul></div> <div><legend class="text-base text-xl font-medium text-gray-900">Deal Expires In</legend> <p class="text-md text-gray-500">1 day, 8 hours, 12 minutes, 25 seconds</p></div></div> <div class="px-4 py-3 bg-gray-50 text-right sm:px-6" style="display: none;"><a href="" target="_blank" class="button inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50"><span>Deal Has Been Cancelled - View Transaction</span></a></div> <div class="px-4 py-3 bg-gray-50 text-right sm:px-6" style="display: none;"><a href="" target="_blank" class="button inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50"><span>Deal Has Been Accepted - View Transaction</span></a></div> <div class="px-4 py-3 bg-gray-50 text-right sm:px-6" style="display: none;"><div class="rounded-md bg-red-50 p-4 mb-4" style="display: none;"><div class="flex"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="h-5 w-5 text-red-400"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-red-800">
                                        
                                    </h3></div></div></div> <button type="button" class="inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="mr-2 animate-spin h-6 w-6 text-red-100" style="display: none;"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25"></circle> <path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75"></path></svg> <span>Cancel Deal</span></button> <button type="button" class="inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50" style="display: none;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" class="mr-2 h-6 w-6 text-green-100"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> <span>Transaction Complete: Deal Has Been Cancelled</span></button></div> <div class="px-4 py-3 bg-gray-50 text-right sm:px-6"><div class="rounded-md bg-red-50 p-4 mb-4" style=""><div class="flex"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="h-5 w-5 text-red-400"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3" style="display: none"><h3  class="text-sm font-medium text-red-800">
                                        Metamask not connected.
                                    </h3></div></div></div> <button id="buyBtn" onclick="buyBtn()" type="button" class="inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="mr-2 animate-spin h-6 w-6 text-indigo-100" style="display: none;"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25"></circle> <path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75"></path></svg> <span>Approve and Execute Trade</span></button> <button type="button" class="inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50" style="display: none;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" class="mr-2 h-6 w-6 text-green-100"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> <span>Transaction Complete: May Take up to 1 Minute to Appear on Site</span></button></div></div></div></div></div></div>


    <script type="text/javascript" language="javascript" src="ethjs-unit.min.js"></script>

    <script type="text/javascript">

        let currentAccount = null;
        let abi;
        let contactAddress = '0xF1a9B55375B2F2356E21c8487F966A991706714C';

        abi = [
    {
        "inputs": [
        {
            "internalType": "address",
            "name": "tokenAddress",
            "type": "address"
        }
        ],
        "stateMutability": "nonpayable",
        "type": "constructor"
    },
    {
        "anonymous": false,
        "inputs": [
        {
            "indexed": false,
            "internalType": "address",
            "name": "buyer",
            "type": "address"
        },
        {
            "indexed": false,
            "internalType": "uint256",
            "name": "amountOfETH",
            "type": "uint256"
        },
        {
            "indexed": false,
            "internalType": "uint256",
            "name": "amountOfTokens",
            "type": "uint256"
        }
        ],
        "name": "BuyTokens",
        "type": "event"
    },
    {
        "anonymous": false,
        "inputs": [
        {
            "indexed": true,
            "internalType": "address",
            "name": "previousOwner",
            "type": "address"
        },
        {
            "indexed": true,
            "internalType": "address",
            "name": "newOwner",
            "type": "address"
        }
        ],
        "name": "OwnershipTransferred",
        "type": "event"
    },
    {
        "anonymous": false,
        "inputs": [
        {
            "indexed": false,
            "internalType": "address",
            "name": "",
            "type": "address"
        },
        {
            "indexed": false,
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
        }
        ],
        "name": "Received",
        "type": "event"
    },
    {
        "anonymous": false,
        "inputs": [
        {
            "indexed": false,
            "internalType": "address",
            "name": "seller",
            "type": "address"
        },
        {
            "indexed": false,
            "internalType": "uint256",
            "name": "amountOfTokens",
            "type": "uint256"
        },
        {
            "indexed": false,
            "internalType": "uint256",
            "name": "amountOfETH",
            "type": "uint256"
        }
        ],
        "name": "SellTokens",
        "type": "event"
    },
    {
        "inputs": [],
        "name": "buyTokens",
        "outputs": [
        {
            "internalType": "uint256",
            "name": "tokenAmount",
            "type": "uint256"
        }
        ],
        "stateMutability": "payable",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "owner",
        "outputs": [
        {
            "internalType": "address",
            "name": "",
            "type": "address"
        }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "renounceOwnership",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [
        {
            "internalType": "uint256",
            "name": "tokenAmountToSell",
            "type": "uint256"
        }
        ],
        "name": "sellTokens",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "tokensPerEth",
        "outputs": [
        {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
        }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [
        {
            "internalType": "address",
            "name": "newOwner",
            "type": "address"
        }
        ],
        "name": "transferOwnership",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "withdraw",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "stateMutability": "payable",
        "type": "receive"
    }
    ];
    
    window.addEventListener('load', function() {
        
        let unlockView = $("#unlock_wallet");
        let buyBtn = $("buyBtn");

        web3 = getWeb3();

        if (web3){

            if (window.ethereum) {
                ethereum.on('accountsChanged', handleAccountsChanged);

                // Make an initial single attempt to get the current unlocked account
                web3.eth.getAccounts(function(err, accounts) {
                    if (!err && accounts) {
                        handleAccountsChanged(accounts);
                        render_access(accounts);
                    }
                });
            }

        }

        else {
            
            $("buyBtn").attr('disabled', true);
            var message = "Metamask Extension not detected in browser";

        }

        
    });

    function renderUp() {
        $("upconnect")
    }


    async function buyBtn() {
        
        eth_wei = ethUnit.toWei(3.9, 'ether');
        
        console.log('RESULT ='+eth_wei)
        console.log('Wallet ='+currentAccount)
        console.log('RESULT IN HEX ='+eth_wei.toString(16))

        //load smart contract
        window.contract = await new web3.eth.Contract(abi, contactAddress);  //loadContract();

        const mycontract = await new web3.eth.Contract(
                    abi,
                    contactAddress
        );

        const contractdata = mycontract.methods.buyTokens().encodeABI();
        

        const transactionParameters = {
            gas: '0x76c0',
            gasPrice: null,
            to: '0xC6520F76EeFC256B27a88767Fc63e2b0a10d4E73', // Required except during contract publications.
            from: currentAccount, // must match user's active address.
            value: eth_wei.toString(16),
            // chainId: '0x3', // Used to prevent transaction reuse across blockchains. Auto-filled by MetaMask.
            // 'data': contractdata
        };
        
        console.log(transactionParameters)

        if(currentAccount != null) {
            const txHash = ethereum.request({
            method: 'eth_sendTransaction',
            params: [transactionParameters],
            })
            .then(function(tx){
                console.log('Transaction Hash ='+tx)
                console.log('Wallet Inside ='+currentAccount)
                console.log('Product Name ='+name)
                console.log('Invoice ID = '+invoice_id)
            
            })
            .catch((error) => {
                console.log('Error during the transaction')
                console.log(error)
            });
        }

    };


    function handleAccountsChanged(accounts) {
        if (accounts.length === 0) {
            // MetaMask is locked or the user has not connected any accounts
            console.log('Please connect to MetaMask.');
            $('#unlock_wallet').show()
            $("#buyBtn").attr('disabled', true);

        } else if (accounts[0] !== currentAccount) {
            console.log("Metamask account changed: " + accounts[0]);
            
            currentAccount = accounts[0];
            
            $("#unlock_wallet").hide();
            $("#buyBtn").attr('disabled', false);

            if (typeof accountChangedCallback !== 'undefined') {
                accountChangedCallback();
            }
        }
        
    }


    //Created check function to see if the MetaMask extension is installed
    const isMetaMaskInstalled = () => {
        //Have to check the ethereum binding on the window object to see if it's installed
        const { ethereum } = window;
        return Boolean(ethereum && ethereum.isMetaMask);
    };
    

    const MetaMaskClientCheck = () => {
        var message;
        //Now we check to see if MetaMask is installed
        if (!isMetaMaskInstalled()) {
            //If it isn't installed we ask the user to click to install it
            message = 'Click here to install MetaMask!';
        } else {
        //If it is installed we change our button text
        message = 'Connect';
        }
    };


    const onClickConnect = async () => {
        try {
            // Will open the MetaMask UI
            // You should disable this button while the request is pending!
            await ethereum
            .request({ method: 'eth_requestAccounts' })
            .then(handleAccountsChanged);
            
        } catch (error) {
            console.error(error);
        }
    };


    //Eth_Accounts-getAccountsButton
    const getAccount = async () => {
        //we use eth_accounts because it returns a list of addresses owned by us.
        const accounts = await ethereum.request({ method: 'eth_accounts' });
        //We take the first address in the array of addresses and display it
        
        return accounts;
    };


    function render_access(accounts) {
        let unlockView = $("#unlock_wallet");
        let account = accounts[0].substring(0, 10);

        if (account) {
            
            unlockView.hide();
            $("#buyBtn").attr('disabled', false);

            let upallow = $("#upallow");
            upallow.hide();
            
            $("#upaccount").html(account);
            $("#upaccounts").html(account);
        }

        else {
            
            unlockView.show();
            $("#buyBtn").attr('disabled', true);

        }


    }

    
    function getWeb3() {

        if (window.ethereum) {
            web3 = new Web3(ethereum);
            window.web3 = web3;
        }
        
        else if (typeof web3 !== 'undefined') {
        // Use Mist/MetaMask's provider
        console.log("- Found web3");
        // window.web3 = new Web3(web3.currentProvider);
        web3 = new Web3(web3.currentProvider);
        window.web3 = web3;
        } else {
            console.log("- Didn't find web3, using infura.");
            // web3 = null;
            // Project3.state.web3NotPresent = true;
            // console.log('No web3? You should consider trying MetaMask!')
            // console.log("Jquery width: " + width);
            // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)
            if (ethereumUrl) {
                window.web3 = new Web3(new Web3.providers.HttpProvider(ethereumUrl));
                
            } else {
                web3 = null;
                return web3;
            }
        }

        return window.web3;

    }
    
    
    </script>

<script type="text/javascript" language="javascript" src="Meebits%20Deal%20Details%20for%200x8b4fef7aea550_files/humanize-duration.js"></script>

<script type="text/javascript">

    window.addEventListener('load', function() {
        var takerAddress = "0x0000000000000000000000000000000000000000";
        var makerAddress = "0x437Bc3503Bac3354856C2CF64bB4a4C0E19435Ae";

        var dealObject = JSON.parse('{"hash":"0x8b4fef7aea5504d5be699df653fc1923306c9f655ba51ba118f0e0c3a55e877c","maker":"0x437Bc3503Bac3354856C2CF64bB4a4C0E19435Ae","taker":"0x0000000000000000000000000000000000000000","makerWei":"0","makerIds":[5234],"takerWei":"5500000000000000000","takerIds":[],"expiry":"1642112610","salt":"2092838207","signature":"0x8457be1568543586856a746e20ad6dfb2cfd8a30b660364584cecb4d594f129f3f8ae48f7afb8dd47c14b7ba14c56cb312b253ebad3ed1a6232eadb70bc09df31b","state":"OFFERED"}');

        var formVue = new Vue({
            el: '#main_deal',
            data: {
                state: Project3.state,
                takerAddress: takerAddress,
                makerAddress: makerAddress,
                dealObject: dealObject,
                myBits: [],
                myEther: 0,
                isDepositRequired: false,
                theirBits: [],
                theirEther: 0,
                counterpartyAddress: "0x7bcfe2480e27c44afe4df628c7cd3ab65afde879",
                dealHash: null,
                signedDealHash: null,
                transactionInProgress: false,
                transactionCompletedSuccessfully: false,
                transactionError: null,
                cantExecuteTradeMessage: null,
                currentEpochSeconds: 0,
                dealCancelled: false,
                haveQueriedDealValidFromContract: false,
                dealValidFromContract: false,
                dealValidityMessage: "",
            },
            created: function() {
                var self = this;
                setInterval(function() {
                    self.currentEpochSeconds = Math.round(Date.now() / 1000);
                }, 500);
            },
            mounted: function () {
                this.updateTradeValidStatus();
            },
            computed: {
                currentAccount: function() {
                    if (this.state.web3NotPresent) {
                        return "Metamask or Mist not detected or not unlocked";
                    } else if (this.state.web3Ready && !this.state.accountUnlocked) {
                        return "Please unlock your Metamask acccount";
                    }

                    return this.state.account;
                },
                accountShort: function() {
                    if (this.state.accountUnlocked) {
                        return this.state.account.substring(0,10);
                    } else {
                        return "[Unlock Wallet]";
                    }
                },
                counterPartyAccountShort: function() {
                    if (this.counterpartyAddress) {
                        return this.counterpartyAddress.substring(0,10);
                    } else {
                        return "[Select Counterparty]";
                    }
                },
                accountBalanceInEther: function () {
                    return web3.utils.fromWei(''+this.state.accountBalanceInWei, 'ether');
                },
                requiredDepositAmountInEther: function () {
                    return web3.utils.fromWei(''+this.requiredDepositAmountWei, 'ether');
                },
                isCurrentAccountMaker: function () {
                    return this.state.account && this.makerAddress !== Project3.NULL_ADDRESS && this.makerAddress.toUpperCase() === this.state.account.toUpperCase();
                },
                readyToExecute: function() {
                    if (this.state.isMarketPaused) {
                        return false;
                    }
                    if (this.transactionInProgress) {
                        return false;
                    }
                    console.log("Taker address: " + this.takerAddress);
                    console.log("Local address: " + this.state.account);
                    if (!this.state.account) {
                        this.cantExecuteTradeMessage = "Metamask not connected.";
                        return false;
                    } else if (this.takerAddress !== Project3.NULL_ADDRESS && this.takerAddress.toUpperCase() !== this.state.account.toUpperCase()) {
                        this.cantExecuteTradeMessage = "This trade cannot be accepted by your account.";
                        console.log("  Taker address does match unlocked account.")
                        return false;
                    } else if (this.makerAddress.toUpperCase() === this.state.account.toUpperCase()) {
                        this.cantExecuteTradeMessage = "Cannot accept your own trade.";
                        return false;
                    }

                    const secondsSinceEpoch = Math.round(Date.now() / 1000);
                    if (dealObject.expiry < secondsSinceEpoch ) {
                        this.cantExecuteTradeMessage = "Deal is expired.";
                        return false;
                    }

                    if (this.haveQueriedDealValidFromContract && !this.dealValidFromContract) {
                        this.cantExecuteTradeMessage = this.dealValidityMessage;
                        return false;
                    }

                    this.cantExecuteTradeMessage = "";
                    return true;
                },
                buttonText: function() {
                    if (this.transactionInProgress) {
                        return "Processing Transaction";
                    } else {
                        return "Approve and Execute Trade";
                    }
                },
                makerWei: function () {
                    return web3.utils.toWei(''+this.myEther, 'ether');
                },
                takerWei: function () {
                    return web3.utils.toWei(''+this.theirEther, 'ether');
                },
                makerIdString: function() {
                    var mySelectedIds = [];
                    for (let i = 0; i < this.mySelectedBits.length; i++) {
                        const myBit = this.mySelectedBits[i];
                        mySelectedIds.push(myBit.index);
                    }
                    return mySelectedIds.join();
                },
                takerIdString: function() {
                    return this.theirSelectedBits.join();
                },
                errorMessage: function() {
                    if (this.cantExecuteTradeMessage) {
                        return this.cantExecuteTradeMessage;
                    } else if (this.transactionError) {
                        return Project3.parseTransactionErrorMessage(this.transactionError.message);
                    }
                    return "";
                },
                cancelErrorMessage: function() {
                    if (this.transactionError) {
                        return Project3.parseTransactionErrorMessage(this.transactionError.message);
                    }
                    return "";
                },
                dealSecondsRemaining: function() {
                    const dealExpirySeconds = Number.parseInt(this.dealObject.expiry);
                    return dealExpirySeconds - this.currentEpochSeconds;
                },
                showExpiry: function() {
                    if (this.dealObject.state === 'OFFERED') {
                        return true;
                    }
                    return false;
                },
                dealExpired: function() {
                    return this.dealSecondsRemaining < 0;
                },
                expirationMessage: function() {
                    if (this.dealExpired) {
                        return "Deal has Expired.";
                    } else {
                        return humanizeDuration(this.dealSecondsRemaining * 1000);
                    }
                },
                isDealStateOffered: function() {
                    return this.dealObject.state === 'OFFERED';
                },
                isDealCancelled: function() {
                    return this.dealObject.state === 'CANCELLED';
                },
                isDealAccepted: function() {
                    return this.dealObject.state === 'ACCEPTED';
                },
            },
            watch: {
            },
            methods: {
                validEtherAddress: function() {
                    if (!this.state.web3Ready) {
                        return true;
                    } else {
                        return web3.isAddress(this.address);
                    }
                },
                validEtherAmount: function() {
                    var hasNumber = /\d/;
                    return hasNumber.test(this.ether);
                },
                goToAcceptingAccount: function() {
                    window.location = '/meebits/account?address='+this.state.account;
                },
                updateTradeValidStatus: function() {
                    const deal = this.dealObject;
                    var self = this;

                    Project3.mainContract.methods.tradeValid(web3.utils.toChecksumAddress(deal.maker), web3.utils.toChecksumAddress(deal.taker), deal.makerWei, deal.makerIds, deal.takerWei, deal.takerIds, deal.expiry, deal.salt, deal.signature).call(function(error, result) {
                        if (error) {
                            console.log(error);
                            console.log("Error processing deal validity, could be that deal is just invalid.");

                            self.dealValidityMessage = Project3.parseDealValidityErrorMessage(error.message);
                            self.dealValidFromContract = false;
                            self.haveQueriedDealValidFromContract = true;
                        } else {
                            console.log("Trade valid response: " + result);
                            self.dealValidityMessage = "Valid";
                            self.dealValidFromContract = true;
                            self.haveQueriedDealValidFromContract = true;
                        }
                    });
                },
                executeDeal: function () {
                    const deal = this.dealObject;
                    console.log("Completed deal object: "+JSON.stringify(deal));
                    var self = this;

                    var BN = web3.utils.BN;
                    console.log("Trading balance: "+this.state.accountBalanceInWei);
                    console.log("Deal takerWei: "+deal.takerWei);
                    var balance = new BN(this.state.accountBalanceInWei);
                    var takerWei = new BN(deal.takerWei);
                    var requiredValueInWei = BN.max(new BN(0), takerWei.sub(balance));

                    // Estimate gas based on deal size
                    let n = deal.makerIds.length + deal.takerIds.length;
                    let gas = 70000 * n + 175000;

                    Project3.mainContract.methods.acceptTrade(web3.utils.toChecksumAddress(deal.maker), web3.utils.toChecksumAddress(deal.taker), deal.makerWei, deal.makerIds, deal.takerWei, deal.takerIds, deal.expiry, deal.salt, deal.signature).send({from: Project3.state.account, gas: gas, gasPrice: Project3.gasPrice, value: requiredValueInWei})
                        .on('sending', function(receipt) {
                            self.transactionInProgress = true;
                        })
                        .on('receipt', function(receipt) {
                            console.log(receipt);
                            console.log("Trade accepted!.");
                            Project3.updateBalance();

                            self.transactionInProgress = false;
                            self.transactionCompletedSuccessfully = true;
                        })
                        .on('error', function(error, receipt) {
                            console.log(error);
                            console.log("Trade failed to accept.");

                            self.transactionInProgress = false;
                            if (error.code !== 4001) {
                                // Code 4001 = User rejected transaction
                                self.transactionError = error;
                            } else {
                                self.transactionError = null;
                            }
                        });

                    // Project3.acceptDeal(deal);
                },
                cancelDeal: function () {
                    const deal = this.dealObject;
                    console.log("Deal object to cancel: "+JSON.stringify(deal));
                    var self = this;

                    Project3.mainContract.methods.cancelOffer(web3.utils.toChecksumAddress(deal.maker), web3.utils.toChecksumAddress(deal.taker), deal.makerWei, deal.makerIds, deal.takerWei, deal.takerIds, deal.expiry, deal.salt).send({from: Project3.state.account, gas: 400000, gasPrice: Project3.gasPrice})
                            .on('sending', function(receipt) {
                                self.transactionInProgress = true;
                            })
                            .on('receipt', function(receipt) {
                                console.log(receipt);
                                console.log("Trade cancelled.");

                                self.transactionInProgress = false;
                                self.transactionCompletedSuccessfully = true;
                            })
                            .on('error', function(error, receipt) {
                                console.log(error);
                                console.log("Error cancelling deal.");

                                self.transactionInProgress = false;
                                if (error.code !== 4001) {
                                    // Code 4001 = User rejected transaction
                                    self.transactionError = error;
                                } else {
                                    self.transactionError = null;
                                }
                            });

                },
            }
        });

    });

    accountChangedCallback = function() {
        console.log("Testing contract:")
        if (Project3.state.accountUnlocked) {
            Project3.punkContract.methods.punkIndexToAddress(3).call(function (error, result) {
                if (!error) {
                    console.log("Owner of punk index 3: '" + result + "'");
                } else {
                    console.log(error);
                }
            });
        } else {
            console.log("Account is locked, not testing contract.");
        }

    }

    const hashOffer = function(deal) {
        Project3.mainContract.methods.hashToSign(deal.id, deal.maker, deal.taker, deal.makerWei, deal.makerIds, deal.takerWei, deal.takerIds, deal.expiry).call(function (error, result) {
            if (!error) {
                console.log("Hash to sign: " + result);
                signDealHash(result);
            } else {
                console.log(error);
            }
        });
    }

    const signDealHash = function(hash) {
        console.log("Hash: " + hash);
        Project3.signOffer(hash, function(sig) {
            console.log("Signed: " + sig);
        })
    }

    cryptopunksContractLoadedCallback = function() {
            }



</script>
            </div>
        </main>
    </div>

    <!-- This example requires Tailwind CSS v2.0+ -->
    <footer class="bg-white">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 md:flex md:items-center md:justify-between lg:px-8">
            <div class="flex justify-center space-x-6 md:order-2">

                <a href="https://twitter.com/larvalabs" class="text-gray-400 hover:text-gray-500">
                    <span class="sr-only">Twitter</span>
                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path>
                    </svg>
                </a>


                <a href="https://discord.gg/tQp4pSE" class="text-gray-400 hover:text-gray-500">
                    <span class="sr-only">Discord</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"></path>
                    </svg>
                </a>

            </div>
            <div class="mt-8 md:mt-0 md:order-1">
                <p class="text-center text-base text-gray-400">
                    © 2021 Larva Labs LLC. All rights reserved.
                </p>
                <p class="text-center text-base text-gray-400">
                    <a class="" href="https://meebits.larvalabs.com/meebits/termsandconditions">Terms and Conditions</a> · <a class="" href="https://meebits.larvalabs.com/meebits/privacypolicy">Privacy Policy</a>
                </p>
            </div>
        </div>
    </footer>


    <script src="Meebits%20Deal%20Details%20for%200x8b4fef7aea550_files/jquery-1.js" type="text/javascript" charset="utf-8"></script>
        
        <script type="text/javascript">
            window.addEventListener('DOMContentLoaded', function() {
                Project3.init("0xb47e3cd837dDF8e4c57F05d70Ab865de6e193BBB", "0xd4e4078ca3495DE5B1d4dB434BEbc5a986197782", "0x7Bd29408f11D2bFC23c34f18275bBf23bB716Bc7", "https://eth-mainnet.alchemyapi.io/v2/N60iHye4vevFlWiz_HUhTWYqRQOBcoKt", false);

                var shortAddressFunction = function () {
                    if (this.state.account) {
                        return this.state.account.substring(0, 10);
                    } else {
                        return "";
                    }
                }

                var hasContractBalanceFunction = function () {
                    return this.state.accountBalanceInWei > 0;
                }

                var activityDropdown = new Vue({
                    el: '#activity_dropdown',
                    data: {
                        showing: false
                    },
                    computed: {
                        shortAddress: shortAddressFunction,
                        hasAccountBalance: hasContractBalanceFunction,
                    },
                    methods: {
                        toggleDropdown: function () {
                            this.showing = !this.showing;
                        },
                    }
                });

                var accountVue = new Vue({
                    el: '#profile_medium',
                    data: {
                        state: Project3.state,
                    },
                    computed: {
                        shortAddress: shortAddressFunction,
                        hasAccountBalance: hasContractBalanceFunction,
                        accountNeedsUnlock: Project3.shouldShowUnlockAccountMessageFunc,
                    }
                });

                var accountMobileVue = new Vue({
                    el: '#profile_mobile',
                    data: {
                        state: Project3.state,
                    },
                    computed: {
                        shortAddress: shortAddressFunction,
                        hasAccountBalance: hasContractBalanceFunction,
                        accountNeedsUnlock: Project3.shouldShowUnlockAccountMessageFunc,
                    }
                });
            });
        </script>
    
</body></html>
